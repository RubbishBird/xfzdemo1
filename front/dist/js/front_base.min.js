function FrontBase(){}function Auth(){this.maskWrapper=$(".mask-wrapper"),this.scrollWrapper=$(".scroll-wrapper")}FrontBase.prototype.run=function(){this.listenAuthBoxHover()},FrontBase.prototype.listenAuthBoxHover=function(){var t=$(".auth-box"),n=$(".user-more-box");t.hover(function(){n.show()},function(){n.hide()})},Auth.prototype.run=function(){var t=this;t.ListenShowHideEvent(),t.listenSwitchEvent(),t.listenSigninEvent(),t.listenImgCaptchaEvent()},Auth.prototype.showEvent=function(){this.maskWrapper.show()},Auth.prototype.hideEvent=function(){this.maskWrapper.hide()},Auth.prototype.ListenShowHideEvent=function(){var t=this,n=$(".signin-btn"),e=$(".signup-btn"),o=$(".close-btn"),i=$(".scroll-wrapper");n.click(function(){t.showEvent(),i.css({left:0})}),e.click(function(){t.showEvent(),i.css({left:-400})}),o.click(function(){t.hideEvent()})},Auth.prototype.listenSwitchEvent=function(){var n=this;$(".switch").click(function(){var t=n.scrollWrapper.css("left");(t=parseInt(t))<0?n.scrollWrapper.animate({left:"0"}):n.scrollWrapper.animate({left:"-400px"})})},Auth.prototype.listenImgCaptchaEvent=function(){var t=$(".img_captcha");t.click(function(){t.attr("src","account/img_captcha?random="+Math.random())})},Auth.prototype.listenSmsCaptchaEvent=function(){var o=$(".sms-captcha-btn"),n=$(".signup-group input[name = 'sms-captcha']");o.click(function(){var t=n.val();t||window.messageBox.showInfo("请输入手机号码！"),xfzajax.get({url:"/account/sms_captcha",data:{telephone:t},success:function(t){if(200==t.code){messageBox.showSuccess("短信验证码发送成功！"),o.addClass("disabled");var n=60,e=setInterval(function(){o.text(n+"s"),(n-=1)<=0&&(clearInterval(e),o.removeClass("disabled"),o.text("发送验证码"))},1e3)}},fail:function(t){console.log(t)}})})},Auth.prototype.listenSigninEvent=function(){var i=this,t=$(".signin-group"),s=t.find("input[name='telephone']"),a=t.find("input[name='password']"),c=t.find("input[name='remember']");t.find(".submit-btn").click(function(t){t.preventDefault();var n=s.val(),e=a.val(),o=c.prop("checked");xfzajax.post({url:"/account/login/",data:{telephone:n,password:e,remember:o?1:0},success:function(t){if(200==t.code)i.hideEvent(),window.location.reload();else{var n=t.message;if("string"==typeof n||n.constructor==String)window.messageBox.show(n);else for(var e in n){var o=n[e][0];window.messageBox.show(o)}}},fail:function(t){console.log(t)}})})},$(function(){(new Auth).run()}),$(function(){(new FrontBase).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZyb250X2Jhc2UuanMiXSwibmFtZXMiOlsiRnJvbnRCYXNlIiwiQXV0aCIsInRoaXMiLCJtYXNrV3JhcHBlciIsIiQiLCJzY3JvbGxXcmFwcGVyIiwicHJvdG90eXBlIiwicnVuIiwibGlzdGVuQXV0aEJveEhvdmVyIiwiYXV0aEJveCIsInVzZXJNb3JlQm94IiwiaG92ZXIiLCJzaG93IiwiaGlkZSIsInNlbGYiLCJMaXN0ZW5TaG93SGlkZUV2ZW50IiwibGlzdGVuU3dpdGNoRXZlbnQiLCJsaXN0ZW5TaWduaW5FdmVudCIsImxpc3RlbkltZ0NhcHRjaGFFdmVudCIsInNob3dFdmVudCIsImhpZGVFdmVudCIsInNpZ25pbmJ0biIsInNpZ251cGJ0biIsImNsb3NlYnRuIiwic2Nyb2xsd3JhcHBlciIsImNsaWNrIiwiY3NzIiwibGVmdCIsImN1cnJlbnRMZWZ0IiwicGFyc2VJbnQiLCJhbmltYXRlIiwiSW1hZ2VDYXB0Y2hhIiwiYXR0ciIsIk1hdGgiLCJyYW5kb20iLCJsaXN0ZW5TbXNDYXB0Y2hhRXZlbnQiLCJzbXNDYXB0Y2hhIiwidGVsZXBob25lSW5wdXQiLCJ0ZWxlcGhvbmUiLCJ2YWwiLCJ3aW5kb3ciLCJtZXNzYWdlQm94Iiwic2hvd0luZm8iLCJ4ZnphamF4IiwiZ2V0IiwidXJsIiwiZGF0YSIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJzaG93U3VjY2VzcyIsImFkZENsYXNzIiwiY291bnQiLCJ0aW1lciIsInNldEludGVydmFsIiwidGV4dCIsImNsZWFySW50ZXJ2YWwiLCJyZW1vdmVDbGFzcyIsImZhaWwiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJzaWduaW5Hcm91cCIsImZpbmQiLCJwYXNzd29yZElucHV0IiwicmVtZW1iZXJJbnB1dCIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJwYXNzd29yZCIsInJlbWVtYmVyIiwicHJvcCIsInBvc3QiLCJsb2NhdGlvbiIsInJlbG9hZCIsIm1lc3NhZ2Vjb2RlIiwiY29uc3RydWN0b3IiLCJTdHJpbmciLCJrZXkiLCJtZXNzYWdlIl0sIm1hcHBpbmdzIjoiQUFFQSxTQUFTQSxhQXNCVCxTQUFTQyxPQUNNQyxLQUNOQyxZQUFjQyxFQUFFLGlCQURWRixLQUVORyxjQUFnQkQsRUFBRSxtQkFyQjNCSixVQUFVTSxVQUFVQyxJQUFNLFdBQ1hMLEtBQ05NLHNCQUdUUixVQUFVTSxVQUFVRSxtQkFBcUIsV0FDckMsSUFBSUMsRUFBVUwsRUFBRSxhQUNaTSxFQUFjTixFQUFFLGtCQUNwQkssRUFBUUUsTUFBTSxXQUNWRCxFQUFZRSxRQUNkLFdBQ0VGLEVBQVlHLFVBYXBCWixLQUFLSyxVQUFVQyxJQUFNLFdBQ2pCLElBQUlPLEVBQU9aLEtBQ1hZLEVBQUtDLHNCQUNMRCxFQUFLRSxvQkFDTEYsRUFBS0csb0JBQ0xILEVBQUtJLHlCQUdUakIsS0FBS0ssVUFBVWEsVUFBWSxXQUNaakIsS0FDTkMsWUFBWVMsUUFHckJYLEtBQUtLLFVBQVVjLFVBQVksV0FDWmxCLEtBQ05DLFlBQVlVLFFBR3JCWixLQUFLSyxVQUFVUyxvQkFBc0IsV0FDakMsSUFBSUQsRUFBT1osS0FDUG1CLEVBQVlqQixFQUFFLGVBQ2RrQixFQUFZbEIsRUFBRSxlQUNkbUIsRUFBV25CLEVBQUUsY0FDYm9CLEVBQWdCcEIsRUFBRSxtQkFDdEJpQixFQUFVSSxNQUFNLFdBQ1pYLEVBQUtLLFlBQ0xLLEVBQWNFLElBQUksQ0FBQ0MsS0FBTyxNQUU5QkwsRUFBVUcsTUFBTSxXQUNiWCxFQUFLSyxZQUNMSyxFQUFjRSxJQUFJLENBQUNDLE1BQVEsUUFFOUJKLEVBQVNFLE1BQU0sV0FDWlgsRUFBS00sZUFJWm5CLEtBQUtLLFVBQVVVLGtCQUFvQixXQUMvQixJQUFJRixFQUFPWixLQUNJRSxFQUFFLFdBQ1JxQixNQUFNLFdBQ1gsSUFBSUcsRUFBY2QsRUFBS1QsY0FBY3FCLElBQUksU0FDekNFLEVBQWNDLFNBQVNELElBQ04sRUFDYmQsRUFBS1QsY0FBY3lCLFFBQVEsQ0FBQ0gsS0FBTyxNQUVuQ2IsRUFBS1QsY0FBY3lCLFFBQVEsQ0FBQ0gsS0FBTyxjQUsvQzFCLEtBQUtLLFVBQVVZLHNCQUF3QixXQUNuQyxJQUFJYSxFQUFlM0IsRUFBRSxnQkFDckIyQixFQUFhTixNQUFNLFdBQ2ZNLEVBQWFDLEtBQUssTUFBTSw4QkFBaUNDLEtBQUtDLGFBSXRFakMsS0FBS0ssVUFBVTZCLHNCQUF3QixXQUNuQyxJQUFJQyxFQUFhaEMsRUFBRSxvQkFDZmlDLEVBQWlCakMsRUFBRSw2Q0FDdkJnQyxFQUFXWCxNQUFNLFdBQ2QsSUFBSWEsRUFBWUQsRUFBZUUsTUFDM0JELEdBQ0FFLE9BQU9DLFdBQVdDLFNBQVMsWUFFL0JDLFFBQVFDLElBQUksQ0FDUkMsSUFBTSx1QkFDTkMsS0FBTyxDQUNIUixVQUFZQSxHQUVoQlMsUUFBVSxTQUFVQyxHQUNoQixHQUFtQixLQUFoQkEsRUFBYSxLQUFPLENBQ25CUCxXQUFXUSxZQUFZLGNBQ3RCYixFQUFXYyxTQUFTLFlBQ3JCLElBQUlDLEVBQVEsR0FDUkMsRUFBUUMsWUFBWSxXQUNwQmpCLEVBQVdrQixLQUFLSCxFQUFNLE1BQ3RCQSxHQUFRLElBQ0UsSUFDTkksY0FBY0gsR0FDZGhCLEVBQVdvQixZQUFZLFlBQ3ZCcEIsRUFBV2tCLEtBQUssV0FFdEIsT0FHVkcsS0FBTyxTQUFVQyxHQUNiQyxRQUFRQyxJQUFJRixTQU8zQnpELEtBQUtLLFVBQVVXLGtCQUFvQixXQUMvQixJQUFJSCxFQUFPWixLQUNQMkQsRUFBY3pELEVBQUUsaUJBQ2hCaUMsRUFBaUJ3QixFQUFZQyxLQUFLLDJCQUNsQ0MsRUFBZ0JGLEVBQVlDLEtBQUssMEJBQ2pDRSxFQUFnQkgsRUFBWUMsS0FBSywwQkFFckJELEVBQVlDLEtBQUssZUFDdkJyQyxNQUFNLFNBQVV3QyxHQUN0QkEsRUFBTUMsaUJBQ04sSUFBSTVCLEVBQVlELEVBQWVFLE1BQzNCNEIsRUFBV0osRUFBY3hCLE1BQ3pCNkIsRUFBV0osRUFBY0ssS0FBSyxXQUVsQzFCLFFBQVEyQixLQUFLLENBQ1R6QixJQUFNLGtCQUNOQyxLQUFPLENBQ0hSLFVBQVlBLEVBQ1o2QixTQUFXQSxFQUNYQyxTQUFXQSxFQUFTLEVBQUUsR0FFMUJyQixRQUFVLFNBQVVDLEdBQ2hCLEdBQXFCLEtBQWxCQSxFQUFhLEtBQ1psQyxFQUFLTSxZQUNMb0IsT0FBTytCLFNBQVNDLGFBQ2YsQ0FDRCxJQUFJQyxFQUFjekIsRUFBZ0IsUUFDbEMsR0FBeUIsaUJBQWZ5QixHQUEyQkEsRUFBWUMsYUFBZUMsT0FDNURuQyxPQUFPQyxXQUFXN0IsS0FBSzZELFFBRXZCLElBQUksSUFBSUcsS0FBT0gsRUFBWSxDQUN2QixJQUNJSSxFQURXSixFQUFZRyxHQUNKLEdBQ3ZCcEMsT0FBT0MsV0FBVzdCLEtBQUtpRSxNQU12Q3BCLEtBQU8sU0FBVUMsR0FDYkMsUUFBUUMsSUFBSUYsU0FTNUJ0RCxFQUFFLFlBQ1ksSUFBSUgsTUFDVk0sUUFJUkgsRUFBRSxZQUNrQixJQUFJSixXQUNWTyIsImZpbGUiOiJmcm9udF9iYXNlLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG4vL+aTjeS9nOWvvOiIquadoeeahFxyXG5mdW5jdGlvbiBGcm9udEJhc2UoKSB7XHJcblxyXG59XHJcblxyXG5Gcm9udEJhc2UucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmxpc3RlbkF1dGhCb3hIb3ZlcigpO1xyXG59O1xyXG5cclxuRnJvbnRCYXNlLnByb3RvdHlwZS5saXN0ZW5BdXRoQm94SG92ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgYXV0aEJveCA9ICQoJy5hdXRoLWJveCcpO1xyXG4gICAgdmFyIHVzZXJNb3JlQm94ID0gJCgnLnVzZXItbW9yZS1ib3gnKTtcclxuICAgIGF1dGhCb3guaG92ZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHVzZXJNb3JlQm94LnNob3coKTtcclxuICAgIH0sZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHVzZXJNb3JlQm94LmhpZGUoKTtcclxuICAgIH0pO1xyXG5cclxufTtcclxuXHJcblxyXG4vL+aTjeS9nOeZu+W9leazqOWGjOeahFxyXG5mdW5jdGlvbiBBdXRoKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5tYXNrV3JhcHBlciA9ICQoJy5tYXNrLXdyYXBwZXInKTtcclxuICAgIHNlbGYuc2Nyb2xsV3JhcHBlciA9ICQoXCIuc2Nyb2xsLXdyYXBwZXJcIik7XHJcbn1cclxuXHJcbkF1dGgucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLkxpc3RlblNob3dIaWRlRXZlbnQoKTtcclxuICAgIHNlbGYubGlzdGVuU3dpdGNoRXZlbnQoKTtcclxuICAgIHNlbGYubGlzdGVuU2lnbmluRXZlbnQoKTtcclxuICAgIHNlbGYubGlzdGVuSW1nQ2FwdGNoYUV2ZW50KCk7XHJcbn07XHJcblxyXG5BdXRoLnByb3RvdHlwZS5zaG93RXZlbnQgPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5tYXNrV3JhcHBlci5zaG93KCk7XHJcbn07XHJcblxyXG5BdXRoLnByb3RvdHlwZS5oaWRlRXZlbnQgPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5tYXNrV3JhcHBlci5oaWRlKCk7XHJcbn07XHJcblxyXG5BdXRoLnByb3RvdHlwZS5MaXN0ZW5TaG93SGlkZUV2ZW50ID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBzaWduaW5idG4gPSAkKCcuc2lnbmluLWJ0bicpO1xyXG4gICAgdmFyIHNpZ251cGJ0biA9ICQoJy5zaWdudXAtYnRuJyk7XHJcbiAgICB2YXIgY2xvc2VidG4gPSAkKCcuY2xvc2UtYnRuJyk7XHJcbiAgICB2YXIgc2Nyb2xsd3JhcHBlciA9ICQoJy5zY3JvbGwtd3JhcHBlcicpO1xyXG4gICAgc2lnbmluYnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLnNob3dFdmVudCgpO1xyXG4gICAgICAgIHNjcm9sbHdyYXBwZXIuY3NzKHsnbGVmdCc6MH0pO1xyXG4gICAgfSk7XHJcbiAgICBzaWdudXBidG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgc2VsZi5zaG93RXZlbnQoKTtcclxuICAgICAgIHNjcm9sbHdyYXBwZXIuY3NzKHsnbGVmdCc6LTQwMH0pO1xyXG4gICAgfSk7XHJcbiAgICBjbG9zZWJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICBzZWxmLmhpZGVFdmVudCgpO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5BdXRoLnByb3RvdHlwZS5saXN0ZW5Td2l0Y2hFdmVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgc3dpdGNoZXIgPSAkKFwiLnN3aXRjaFwiKTtcclxuICAgIHN3aXRjaGVyLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY3VycmVudExlZnQgPSBzZWxmLnNjcm9sbFdyYXBwZXIuY3NzKFwibGVmdFwiKVxyXG4gICAgICAgIGN1cnJlbnRMZWZ0ID0gcGFyc2VJbnQoY3VycmVudExlZnQpXHJcbiAgICAgICAgaWYoY3VycmVudExlZnQgPCAwKXtcclxuICAgICAgICAgICAgc2VsZi5zY3JvbGxXcmFwcGVyLmFuaW1hdGUoe1wibGVmdFwiOlwiMFwifSk7XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICBzZWxmLnNjcm9sbFdyYXBwZXIuYW5pbWF0ZSh7XCJsZWZ0XCI6XCItNDAwcHhcIn0pXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn07XHJcblxyXG5BdXRoLnByb3RvdHlwZS5saXN0ZW5JbWdDYXB0Y2hhRXZlbnQgPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIEltYWdlQ2FwdGNoYSA9ICQoJy5pbWdfY2FwdGNoYScpO1xyXG4gICAgSW1hZ2VDYXB0Y2hhLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBJbWFnZUNhcHRjaGEuYXR0cignc3JjJywnYWNjb3VudC9pbWdfY2FwdGNoYScrJz9yYW5kb209JytNYXRoLnJhbmRvbSgpKVxyXG4gICAgfSk7XHJcbn07XHJcblxyXG5BdXRoLnByb3RvdHlwZS5saXN0ZW5TbXNDYXB0Y2hhRXZlbnQgPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIHNtc0NhcHRjaGEgPSAkKCcuc21zLWNhcHRjaGEtYnRuJyk7XHJcbiAgICB2YXIgdGVsZXBob25lSW5wdXQgPSAkKFwiLnNpZ251cC1ncm91cCBpbnB1dFtuYW1lID0gJ3Ntcy1jYXB0Y2hhJ11cIik7XHJcbiAgICBzbXNDYXB0Y2hhLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgIHZhciB0ZWxlcGhvbmUgPSB0ZWxlcGhvbmVJbnB1dC52YWwoKTtcclxuICAgICAgIGlmKCF0ZWxlcGhvbmUpe1xyXG4gICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3dJbmZvKCfor7fovpPlhaXmiYvmnLrlj7fnoIHvvIEnKTtcclxuICAgICAgIH1cclxuICAgICAgIHhmemFqYXguZ2V0KHtcclxuICAgICAgICAgICAndXJsJzonL2FjY291bnQvc21zX2NhcHRjaGEnLFxyXG4gICAgICAgICAgICdkYXRhJzp7XHJcbiAgICAgICAgICAgICAgICd0ZWxlcGhvbmUnOnRlbGVwaG9uZVxyXG4gICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgJ3N1Y2Nlc3MnOmZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ109PTIwMCl7XHJcbiAgICAgICAgICAgICAgICAgICBtZXNzYWdlQm94LnNob3dTdWNjZXNzKCfnn63kv6Hpqozor4HnoIHlj5HpgIHmiJDlip/vvIEnKVxyXG4gICAgICAgICAgICAgICAgICAgIHNtc0NhcHRjaGEuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICB2YXIgY291bnQgPSA2MDtcclxuICAgICAgICAgICAgICAgICAgIHZhciB0aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICBzbXNDYXB0Y2hhLnRleHQoY291bnQrJ3MnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICBjb3VudC09IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgaWYoY291bnQ8PTApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgc21zQ2FwdGNoYS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgc21zQ2FwdGNoYS50ZXh0KCflj5HpgIHpqozor4HnoIEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICB9LDEwMDApO1xyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgfSxcclxuICAgICAgICAgICAnZmFpbCc6ZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxyXG4gICAgICAgICAgIH1cclxuICAgICAgIH0pXHJcbiAgICB9KTtcclxufTtcclxuXHJcblxyXG5BdXRoLnByb3RvdHlwZS5saXN0ZW5TaWduaW5FdmVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgc2lnbmluR3JvdXAgPSAkKCcuc2lnbmluLWdyb3VwJyk7XHJcbiAgICB2YXIgdGVsZXBob25lSW5wdXQgPSBzaWduaW5Hcm91cC5maW5kKFwiaW5wdXRbbmFtZT0ndGVsZXBob25lJ11cIik7XHJcbiAgICB2YXIgcGFzc3dvcmRJbnB1dCA9IHNpZ25pbkdyb3VwLmZpbmQoXCJpbnB1dFtuYW1lPSdwYXNzd29yZCddXCIpO1xyXG4gICAgdmFyIHJlbWVtYmVySW5wdXQgPSBzaWduaW5Hcm91cC5maW5kKFwiaW5wdXRbbmFtZT0ncmVtZW1iZXInXVwiKTtcclxuXHJcbiAgICB2YXIgc3VibWl0QnRuID0gc2lnbmluR3JvdXAuZmluZCgnLnN1Ym1pdC1idG4nKTtcclxuICAgIHN1Ym1pdEJ0bi5jbGljayhmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHZhciB0ZWxlcGhvbmUgPSB0ZWxlcGhvbmVJbnB1dC52YWwoKTtcclxuICAgICAgICB2YXIgcGFzc3dvcmQgPSBwYXNzd29yZElucHV0LnZhbCgpO1xyXG4gICAgICAgIHZhciByZW1lbWJlciA9IHJlbWVtYmVySW5wdXQucHJvcCgnY2hlY2tlZCcpO1xyXG5cclxuICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzonL2FjY291bnQvbG9naW4vJyxcclxuICAgICAgICAgICAgJ2RhdGEnOntcclxuICAgICAgICAgICAgICAgICd0ZWxlcGhvbmUnOnRlbGVwaG9uZSxcclxuICAgICAgICAgICAgICAgICdwYXNzd29yZCc6cGFzc3dvcmQsXHJcbiAgICAgICAgICAgICAgICAncmVtZW1iZXInOnJlbWVtYmVyPzE6MFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6ZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ10gPT0gMjAwKXtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmhpZGVFdmVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlY29kZSA9IHJlc3VsdFsnbWVzc2FnZSddO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBtZXNzYWdlY29kZSA9PSAnc3RyaW5nJyB8fCBtZXNzYWdlY29kZS5jb25zdHJ1Y3RvciA9PSBTdHJpbmcpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93KG1lc3NhZ2Vjb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBrZXkgaW4gbWVzc2FnZWNvZGUpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2VzID0gbWVzc2FnZWNvZGVba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gbWVzc2FnZXNbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93KG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2ZhaWwnOmZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5cclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICB2YXIgYXV0aCA9IG5ldyBBdXRoKCk7XHJcbiAgIGF1dGgucnVuKCk7XHJcbn0pO1xyXG5cclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGZyb250QmFzZSA9IG5ldyBGcm9udEJhc2UoKTtcclxuICAgIGZyb250QmFzZS5ydW4oKTtcclxufSkiXX0=

function FrontBase(){}function Auth(){var t=this;t.maskWrapper=$(".mask-wrapper"),t.scrollWrapper=$(".scroll-wrapper"),t.smsCaptcha=$(".sms-captcha-btn")}FrontBase.prototype.run=function(){this.listenAuthBoxHover()},FrontBase.prototype.listenAuthBoxHover=function(){var t=$(".auth-box"),n=$(".user-more-box");t.hover(function(){n.show()},function(){n.hide()})},Auth.prototype.run=function(){var t=this;t.ListenShowHideEvent(),t.listenSwitchEvent(),t.listenSigninEvent(),t.listenImgCaptchaEvent(),t.listenSmsCaptchaEvent()},Auth.prototype.showEvent=function(){this.maskWrapper.show()},Auth.prototype.hideEvent=function(){this.maskWrapper.hide()},Auth.prototype.smsSuccessEvent=function(){var t=this;messageBox.showSuccess("短信验证码发送成功！"),t.smsCaptcha.addClass("disabled");var n=60;t.smsCaptcha.unbind("click");var e=setInterval(function(){t.smsCaptcha.text(n+"s"),(n-=1)<=0&&(clearInterval(e),t.smsCaptcha.removeClass("disabled"),t.smsCaptcha.text("发送验证码"),t.listenSmsCaptchaEvent())},1e3)},Auth.prototype.ListenShowHideEvent=function(){var t=this,n=$(".signin-btn"),e=$(".signup-btn"),s=$(".close-btn"),o=$(".scroll-wrapper");n.click(function(){t.showEvent(),o.css({left:0})}),e.click(function(){t.showEvent(),o.css({left:-400})}),s.click(function(){t.hideEvent()})},Auth.prototype.listenSwitchEvent=function(){var n=this;$(".switch").click(function(){var t=n.scrollWrapper.css("left");(t=parseInt(t))<0?n.scrollWrapper.animate({left:"0"}):n.scrollWrapper.animate({left:"-400px"})})},Auth.prototype.listenImgCaptchaEvent=function(){var t=$(".img_captcha");t.click(function(){t.attr("src","account/img_captcha?random="+Math.random())})},Auth.prototype.listenSmsCaptchaEvent=function(){var n=this,e=$(".signup-group input[name = 'telephone']");n.smsCaptcha.click(function(){var t=e.val();t||window.messageBox.showInfo("请输入手机号码！"),xfzajax.get({url:"/account/sms_captcha",data:{telephone:t},success:function(t){200==t.code&&n.smsSuccessEvent()},fail:function(t){console.log(t)}})})},Auth.prototype.listenSigninEvent=function(){var o=this,t=$(".signin-group"),a=t.find("input[name='telephone']"),i=t.find("input[name='password']"),c=t.find("input[name='remember']");t.find(".submit-btn").click(function(t){t.preventDefault();var n=a.val(),e=i.val(),s=c.prop("checked");xfzajax.post({url:"/account/login/",data:{telephone:n,password:e,remember:s?1:0},success:function(t){if(200==t.code)o.hideEvent(),window.location.reload();else{var n=t.message;if("string"==typeof n||n.constructor==String)window.messageBox.show(n);else for(var e in n){var s=n[e][0];window.messageBox.show(s)}}},fail:function(t){console.log(t)}})})},$(function(){(new Auth).run()}),$(function(){(new FrontBase).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZyb250X2Jhc2UuanMiXSwibmFtZXMiOlsiRnJvbnRCYXNlIiwiQXV0aCIsInNlbGYiLCJ0aGlzIiwibWFza1dyYXBwZXIiLCIkIiwic2Nyb2xsV3JhcHBlciIsInNtc0NhcHRjaGEiLCJwcm90b3R5cGUiLCJydW4iLCJsaXN0ZW5BdXRoQm94SG92ZXIiLCJhdXRoQm94IiwidXNlck1vcmVCb3giLCJob3ZlciIsInNob3ciLCJoaWRlIiwiTGlzdGVuU2hvd0hpZGVFdmVudCIsImxpc3RlblN3aXRjaEV2ZW50IiwibGlzdGVuU2lnbmluRXZlbnQiLCJsaXN0ZW5JbWdDYXB0Y2hhRXZlbnQiLCJsaXN0ZW5TbXNDYXB0Y2hhRXZlbnQiLCJzaG93RXZlbnQiLCJoaWRlRXZlbnQiLCJzbXNTdWNjZXNzRXZlbnQiLCJtZXNzYWdlQm94Iiwic2hvd1N1Y2Nlc3MiLCJhZGRDbGFzcyIsImNvdW50IiwidW5iaW5kIiwidGltZXIiLCJzZXRJbnRlcnZhbCIsInRleHQiLCJjbGVhckludGVydmFsIiwicmVtb3ZlQ2xhc3MiLCJzaWduaW5idG4iLCJzaWdudXBidG4iLCJjbG9zZWJ0biIsInNjcm9sbHdyYXBwZXIiLCJjbGljayIsImNzcyIsImxlZnQiLCJjdXJyZW50TGVmdCIsInBhcnNlSW50IiwiYW5pbWF0ZSIsIkltYWdlQ2FwdGNoYSIsImF0dHIiLCJNYXRoIiwicmFuZG9tIiwidGVsZXBob25lSW5wdXQiLCJ0ZWxlcGhvbmUiLCJ2YWwiLCJ3aW5kb3ciLCJzaG93SW5mbyIsInhmemFqYXgiLCJnZXQiLCJ1cmwiLCJkYXRhIiwic3VjY2VzcyIsInJlc3VsdCIsImZhaWwiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJzaWduaW5Hcm91cCIsImZpbmQiLCJwYXNzd29yZElucHV0IiwicmVtZW1iZXJJbnB1dCIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJwYXNzd29yZCIsInJlbWVtYmVyIiwicHJvcCIsInBvc3QiLCJsb2NhdGlvbiIsInJlbG9hZCIsIm1lc3Nh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LDBCQUNqQ0UsRUFBZ0JILEVBQVlDLEtBQUssMEJBRXJCRCxFQUFZQyxLQUFLLGVBQ3ZCMUIsTUFBTSxTQUFVNkIsR0FDdEJBLEVBQU1DLGlCQUNOLElBQUluQixFQUFZRCxFQUFlRSxNQUMzQm1CLEVBQVdKLEVBQWNmLE1BQ3pCb0IsRUFBV0osRUFBY0ssS0FBSyxXQUVsQ2xCLFFBQVFtQixLQUFLLENBQ1RqQixJQUFNLGtCQUNOQyxLQUFPLENBQ0hQLFVBQVlBLEVBQ1pvQixTQUFXQSxFQUNYQyxTQUFXQSxFQUFTLEVBQUUsR0FFMUJiLFFBQVUsU0FBVUMsR0FDaEIsR0FBcUIsS0FBbEJBLEVBQWEsS0FDWnhELEVBQUtvQixZQUNMNkIsT0FBT3NCLFNBQVNDLGFBQ2YsQ0FDRCxJQUFJQyxFQUFjakIsRUFBZ0IsUUFDbEMsR0FBeUIsaUJBQWZpQixHQUEyQkEsRUFBWUMsYUFBZUMsT0FDNUQxQixPQUFPM0IsV0FBV1YsS0FBSzZELFFBRXZCLElBQUksSUFBSUcsS0FBT0gsRUFBWSxDQUN2QixJQUNJSSxFQURXSixFQUFZRyxHQUNKLEdBQ3ZCM0IsT0FBTzNCLFdBQVdWLEtBQUtpRSxNQU12Q3BCLEtBQU8sU0FBVUMsR0FDYkMsUUFBUUMsSUFBSUYsU0FTNUJ2RCxFQUFFLFlBQ1ksSUFBSUosTUFDVlEsUUFJUkosRUFBRSxZQUNrQixJQUFJTCxXQUNWUyIsImZpbGUiOiJmcm9udF9iYXNlLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG4vL+aTjeS9nOWvvOiIquadoeeahFxyXG5mdW5jdGlvbiBGcm9udEJhc2UoKSB7XHJcblxyXG59XHJcblxyXG5Gcm9udEJhc2UucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmxpc3RlbkF1dGhCb3hIb3ZlcigpO1xyXG59O1xyXG5cclxuRnJvbnRCYXNlLnByb3RvdHlwZS5saXN0ZW5BdXRoQm94SG92ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgYXV0aEJveCA9ICQoJy5hdXRoLWJveCcpO1xyXG4gICAgdmFyIHVzZXJNb3JlQm94ID0gJCgnLnVzZXItbW9yZS1ib3gnKTtcclxuICAgIGF1dGhCb3guaG92ZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHVzZXJNb3JlQm94LnNob3coKTtcclxuICAgIH0sZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHVzZXJNb3JlQm94LmhpZGUoKTtcclxuICAgIH0pO1xyXG5cclxufTtcclxuXHJcblxyXG4vL+aTjeS9nOeZu+W9leazqOWGjOeahFxyXG5mdW5jdGlvbiBBdXRoKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5tYXNrV3JhcHBlciA9ICQoJy5tYXNrLXdyYXBwZXInKTtcclxuICAgIHNlbGYuc2Nyb2xsV3JhcHBlciA9ICQoXCIuc2Nyb2xsLXdyYXBwZXJcIik7XHJcbiAgICBzZWxmLnNtc0NhcHRjaGEgPSAkKCcuc21zLWNhcHRjaGEtYnRuJyk7XHJcbn1cclxuXHJcbkF1dGgucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLkxpc3RlblNob3dIaWRlRXZlbnQoKTtcclxuICAgIHNlbGYubGlzdGVuU3dpdGNoRXZlbnQoKTtcclxuICAgIHNlbGYubGlzdGVuU2lnbmluRXZlbnQoKTtcclxuICAgIHNlbGYubGlzdGVuSW1nQ2FwdGNoYUV2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3RlblNtc0NhcHRjaGFFdmVudCgpO1xyXG59O1xyXG5cclxuQXV0aC5wcm90b3R5cGUuc2hvd0V2ZW50ID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYubWFza1dyYXBwZXIuc2hvdygpO1xyXG59O1xyXG5cclxuQXV0aC5wcm90b3R5cGUuaGlkZUV2ZW50ID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYubWFza1dyYXBwZXIuaGlkZSgpO1xyXG59O1xyXG5cclxuQXV0aC5wcm90b3R5cGUuc21zU3VjY2Vzc0V2ZW50ID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIG1lc3NhZ2VCb3guc2hvd1N1Y2Nlc3MoJ+efreS/oemqjOivgeeggeWPkemAgeaIkOWKn++8gScpXHJcbiAgICAgICAgc2VsZi5zbXNDYXB0Y2hhLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgIHZhciBjb3VudCA9IDYwO1xyXG4gICAgICAgIHNlbGYuc21zQ2FwdGNoYS51bmJpbmQoJ2NsaWNrJyk7XHJcbiAgICAgICAgdmFyIHRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgIHNlbGYuc21zQ2FwdGNoYS50ZXh0KGNvdW50KydzJyk7XHJcbiAgICAgICAgICAgY291bnQtPSAxO1xyXG4gICAgICAgICAgIGlmKGNvdW50PD0wKXtcclxuICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7XHJcbiAgICAgICAgICAgICAgIHNlbGYuc21zQ2FwdGNoYS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgICAgc2VsZi5zbXNDYXB0Y2hhLnRleHQoJ+WPkemAgemqjOivgeeggScpO1xyXG4gICAgICAgICAgICAgICBzZWxmLmxpc3RlblNtc0NhcHRjaGFFdmVudCgpO1xyXG4gICAgICAgICAgIH1cclxuICAgICAgICB9LDEwMDApO1xyXG5cclxufTtcclxuXHJcbkF1dGgucHJvdG90eXBlLkxpc3RlblNob3dIaWRlRXZlbnQgPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIHNpZ25pbmJ0biA9ICQoJy5zaWduaW4tYnRuJyk7XHJcbiAgICB2YXIgc2lnbnVwYnRuID0gJCgnLnNpZ251cC1idG4nKTtcclxuICAgIHZhciBjbG9zZWJ0biA9ICQoJy5jbG9zZS1idG4nKTtcclxuICAgIHZhciBzY3JvbGx3cmFwcGVyID0gJCgnLnNjcm9sbC13cmFwcGVyJyk7XHJcbiAgICBzaWduaW5idG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuc2hvd0V2ZW50KCk7XHJcbiAgICAgICAgc2Nyb2xsd3JhcHBlci5jc3MoeydsZWZ0JzowfSk7XHJcbiAgICB9KTtcclxuICAgIHNpZ251cGJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICBzZWxmLnNob3dFdmVudCgpO1xyXG4gICAgICAgc2Nyb2xsd3JhcHBlci5jc3MoeydsZWZ0JzotNDAwfSk7XHJcbiAgICB9KTtcclxuICAgIGNsb3NlYnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgIHNlbGYuaGlkZUV2ZW50KCk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbkF1dGgucHJvdG90eXBlLmxpc3RlblN3aXRjaEV2ZW50ID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBzd2l0Y2hlciA9ICQoXCIuc3dpdGNoXCIpO1xyXG4gICAgc3dpdGNoZXIuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjdXJyZW50TGVmdCA9IHNlbGYuc2Nyb2xsV3JhcHBlci5jc3MoXCJsZWZ0XCIpXHJcbiAgICAgICAgY3VycmVudExlZnQgPSBwYXJzZUludChjdXJyZW50TGVmdClcclxuICAgICAgICBpZihjdXJyZW50TGVmdCA8IDApe1xyXG4gICAgICAgICAgICBzZWxmLnNjcm9sbFdyYXBwZXIuYW5pbWF0ZSh7XCJsZWZ0XCI6XCIwXCJ9KTtcclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgIHNlbGYuc2Nyb2xsV3JhcHBlci5hbmltYXRlKHtcImxlZnRcIjpcIi00MDBweFwifSlcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufTtcclxuXHJcbkF1dGgucHJvdG90eXBlLmxpc3RlbkltZ0NhcHRjaGFFdmVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgSW1hZ2VDYXB0Y2hhID0gJCgnLmltZ19jYXB0Y2hhJyk7XHJcbiAgICBJbWFnZUNhcHRjaGEuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIEltYWdlQ2FwdGNoYS5hdHRyKCdzcmMnLCdhY2NvdW50L2ltZ19jYXB0Y2hhJysnP3JhbmRvbT0nK01hdGgucmFuZG9tKCkpXHJcbiAgICB9KTtcclxufTtcclxuXHJcbkF1dGgucHJvdG90eXBlLmxpc3RlblNtc0NhcHRjaGFFdmVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgdGVsZXBob25lSW5wdXQgPSAkKFwiLnNpZ251cC1ncm91cCBpbnB1dFtuYW1lID0gJ3RlbGVwaG9uZSddXCIpO1xyXG4gICAgc2VsZi5zbXNDYXB0Y2hhLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgIHZhciB0ZWxlcGhvbmUgPSB0ZWxlcGhvbmVJbnB1dC52YWwoKTtcclxuICAgICAgIGlmKCF0ZWxlcGhvbmUpe1xyXG4gICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3dJbmZvKCfor7fovpPlhaXmiYvmnLrlj7fnoIHvvIEnKTtcclxuICAgICAgIH1cclxuICAgICAgIHhmemFqYXguZ2V0KHtcclxuICAgICAgICAgICAndXJsJzonL2FjY291bnQvc21zX2NhcHRjaGEnLFxyXG4gICAgICAgICAgICdkYXRhJzp7XHJcbiAgICAgICAgICAgICAgICd0ZWxlcGhvbmUnOnRlbGVwaG9uZVxyXG4gICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgJ3N1Y2Nlc3MnOmZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ109PTIwMCl7XHJcbiAgICAgICAgICAgICAgICAgICBzZWxmLnNtc1N1Y2Nlc3NFdmVudCgpO1xyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgfSxcclxuICAgICAgICAgICAnZmFpbCc6ZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxyXG4gICAgICAgICAgIH1cclxuICAgICAgIH0pXHJcbiAgICB9KTtcclxufTtcclxuXHJcblxyXG5BdXRoLnByb3RvdHlwZS5saXN0ZW5TaWduaW5FdmVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgc2lnbmluR3JvdXAgPSAkKCcuc2lnbmluLWdyb3VwJyk7XHJcbiAgICB2YXIgdGVsZXBob25lSW5wdXQgPSBzaWduaW5Hcm91cC5maW5kKFwiaW5wdXRbbmFtZT0ndGVsZXBob25lJ11cIik7XHJcbiAgICB2YXIgcGFzc3dvcmRJbnB1dCA9IHNpZ25pbkdyb3VwLmZpbmQoXCJpbnB1dFtuYW1lPSdwYXNzd29yZCddXCIpO1xyXG4gICAgdmFyIHJlbWVtYmVySW5wdXQgPSBzaWduaW5Hcm91cC5maW5kKFwiaW5wdXRbbmFtZT0ncmVtZW1iZXInXVwiKTtcclxuXHJcbiAgICB2YXIgc3VibWl0QnRuID0gc2lnbmluR3JvdXAuZmluZCgnLnN1Ym1pdC1idG4nKTtcclxuICAgIHN1Ym1pdEJ0bi5jbGljayhmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHZhciB0ZWxlcGhvbmUgPSB0ZWxlcGhvbmVJbnB1dC52YWwoKTtcclxuICAgICAgICB2YXIgcGFzc3dvcmQgPSBwYXNzd29yZElucHV0LnZhbCgpO1xyXG4gICAgICAgIHZhciByZW1lbWJlciA9IHJlbWVtYmVySW5wdXQucHJvcCgnY2hlY2tlZCcpO1xyXG5cclxuICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzonL2FjY291bnQvbG9naW4vJyxcclxuICAgICAgICAgICAgJ2RhdGEnOntcclxuICAgICAgICAgICAgICAgICd0ZWxlcGhvbmUnOnRlbGVwaG9uZSxcclxuICAgICAgICAgICAgICAgICdwYXNzd29yZCc6cGFzc3dvcmQsXHJcbiAgICAgICAgICAgICAgICAncmVtZW1iZXInOnJlbWVtYmVyPzE6MFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6ZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ10gPT0gMjAwKXtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmhpZGVFdmVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlY29kZSA9IHJlc3VsdFsnbWVzc2FnZSddO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBtZXNzYWdlY29kZSA9PSAnc3RyaW5nJyB8fCBtZXNzYWdlY29kZS5jb25zdHJ1Y3RvciA9PSBTdHJpbmcpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93KG1lc3NhZ2Vjb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBrZXkgaW4gbWVzc2FnZWNvZGUpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2VzID0gbWVzc2FnZWNvZGVba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gbWVzc2FnZXNbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93KG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2ZhaWwnOmZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5cclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICB2YXIgYXV0aCA9IG5ldyBBdXRoKCk7XHJcbiAgIGF1dGgucnVuKCk7XHJcbn0pO1xyXG5cclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGZyb250QmFzZSA9IG5ldyBGcm9udEJhc2UoKTtcclxuICAgIGZyb250QmFzZS5ydW4oKTtcclxufSkiXX0=
